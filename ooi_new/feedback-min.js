function feedback_page_load_complete(){$_GET=getParams(),checkExistAndInvoke("feedback-button",(function(e){e.addEventListener("click",(function(e){e.preventDefault(),post()}))}))}function post(){var e=!0,t=document.querySelectorAll(".form-control");for(const a in t)if(Object.hasOwnProperty.call(t,a)){const n=t[a];validate(n.name)?n.classList.remove("is-invalid"):(n.classList.add("is-invalid"),e=!1)}if(!e)return;for(const e in t)if(Object.hasOwnProperty.call(t,e)){const a=t[e];feedbackEntity[a.name]=a.value}let a="en";"undefined"!=typeof lang?a=lang:$_GET.lang&&(a=$_GET.lang),feedbackEntity.language=a;var n=new XMLHttpRequest;n.open("POST",`${API}/feedback`),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&checkExistAndInvoke("messageModal",(function(e){var t=new bootstrap.Modal(e);if(200==n.status)e.addEventListener("hidden.bs.modal",(function(e){checkExistAndInvoke("frmFeedback",(function(e){e.reset()})),document.forms[0].classList.remove("was-validated")})),t.show();else if(500==n.status&&n.response){resp=JSON.parse(n.response);var a=resp.message;alert("Request failed.  Returned status of "+a)}}))},n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),grecaptcha.ready((function(){grecaptcha.execute(siteKey,{action:"submit_feedback"}).then((function(e){feedbackEntity.token=e;var t=JSON.stringify(feedbackEntity);n.send(t)}))}))}function validate(e){var t=document.forms.frmFeedback[e].value;if(null==t||""==t)return!1;if("email"==e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}return!0}$_GET=[],feedbackEntity={nickname:"",email:"",message:"",language:"en",token:"",domain:domain},window.attachEvent?window.attachEvent("onload",feedback_page_load_complete):window.addEventListener?window.addEventListener("load",feedback_page_load_complete,!1):document.addEventListener("load",feedback_page_load_complete,!1);